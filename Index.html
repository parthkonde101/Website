<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J Panel - Home</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .today {
            color: red;
            font-weight: bold;
        }
        .tomorrow {
            color: orange;
            font-weight: bold;
        }
        .future-date {
            color: lightgreen;
            font-weight: bold;
        }
        .empty-row {
            text-align: center;
            color: gray;
        }
    </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav>
        <a href="index.html">Home</a>
        <a href="https://drive.google.com/drive/folders/1jIUkNOovTV4dqhwQYBNHeu8WJA7576F9">Reference Material</a>
 
    </nav>

    <!-- Main Title -->
    <header>
        <h1>Panel J</h1>
        <p>Academic Hub</p>
    </header>

    <!-- Home Page - Schedule of Assignments -->
    <section id="home">
        <h2>Submissions & Deadlines</h2>
        <table class="schedule-table">
            <thead>
                <tr>
                    <th>Subject</th>
                    <th>Due</th>
                    <th>Reference</th>
                </tr>
            </thead>
            <tbody id="schedule-body">
                <!-- Rows will be dynamically added here -->
            </tbody>
        </table> <br>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Panel J | All Rights Reserved</p>
    </footer>

    <script>
        // Schedule data with unique reference links
        let scheduleData = [
            {
                subject: "MMA - Viva on Unit 1 <br> DS - Viva on Unit 4 <br> Peace Submission",
                reference: [
                    { text: "MMA", url: "https://example.com/mma" },
                    { text: "DS", url: "https://example.com/ds" },
                    { text: "Peace", url: "https://example.com/peace" },
                ],
                date: "2024-12-19"
            },
            {
                subject: "DS - Assignment 3",
                reference: [{ text: "PDF", url: "https://example.com/ds-assignment3" }],
                date: "2024-12-19"
            },
            {
                subject: "MMA - Assignment 6",
                reference: [{ text: "PDF", url: "https://example.com/mma-assignment6" }],
                date: "2024-12-20"
            },
            {
                subject: "DS - Assignment 5",
                reference: [{ text: "PDF", url: "https://example.com/ds-assignment5" }],
                date: "2024-12-21"
            },
	    {
                subject: "Peace - Assignment 9",
                reference: [{ text: "PDF", url: "https://example.com/ds-assignment5" }],
                date: "2024-12-22"
            },
	{
                subject: "MMA - Assignment 11",
                reference: [{ text: "PDF", url: "https://example.com/ds-assignment5" }],
                date: "2024-12-29"
            },
        ];

        function updateSchedule() {
            const scheduleBody = document.getElementById('schedule-body');
            scheduleBody.innerHTML = ''; // Clear previous rows

            const today = new Date();
            const todayISO = today.toISOString().split('T')[0];
            const tomorrowISO = new Date(today.getTime() + 24 * 60 * 60 * 1000).toISOString().split('T')[0];

            // Keep tasks due today or tomorrow
            const filteredData = scheduleData.filter((item) => new Date(item.date) >= new Date(todayISO));

            if (filteredData.length === 0) {
                // If no tasks remain, show a blank row with a dash
                const emptyRow = document.createElement('tr');
                emptyRow.classList.add('empty-row');
                emptyRow.innerHTML = `
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                `;
                scheduleBody.appendChild(emptyRow);
                return;
            }

            filteredData.forEach((item) => {
                const row = document.createElement('tr');
                const subjectCell = document.createElement('td');
                const dueCell = document.createElement('td');
                const referenceCell = document.createElement('td');

                // Subject
                subjectCell.innerHTML = item.subject;

                // Reference links
                item.reference.forEach((ref) => {
                    const link = document.createElement('a');
                    link.href = ref.url;
                    link.target = "_blank";
                    link.textContent = ref.text;
                    referenceCell.appendChild(link);
                    referenceCell.appendChild(document.createElement('br')); // Add line break for multiple links
                });

                // Due Date and Class Assignment
                if (item.date === todayISO) {
                    dueCell.innerHTML = `<span class="today">Today</span>`;
                } else if (item.date === tomorrowISO) {
                    dueCell.innerHTML = `<span class="tomorrow">Tomorrow</span>`;
                } else {
                    dueCell.innerHTML = `<span class="future-date">${item.date}</span>`;
                }

                row.appendChild(subjectCell);
                row.appendChild(dueCell);
                row.appendChild(referenceCell);
                scheduleBody.appendChild(row);
            });
        }

        // Initial call to update the schedule
        updateSchedule();
    </script>
</body>
</html>
